## Docker



应用的架构是不断演进的，整个系统可以通过一份代码仓库构建出来一个应用包，好处是部署非常简单，通过复制应用包，配置一下就可以启动

单体架构会有演进的过程，比如MVC架构、DDD架构，这个是在开发层面分离，但是从整个应用来看，依然是一个大的包，这样的架构会有一些问题。

随着业务越来越复杂，这个项目就会陷入一个绝境，很可能业务的代码量会变的超级大，举一个例子，我在做爱设计内容中台时，这个系统被定为我们公司的一个战略性产品，高峰期我们有30个人在维护这个系统，这么大的系统，代码在一个地方，所有的功能糅合在一起，开发起来非常噩梦，到这个项目的后期，无论是谁也没有办法感知这个系统的全局，即使是这个系统的首席架构，也没办法说清楚每一个组件的行为细节，到最后想推任何的新功能都变得不可能，因为一个新功能的推进，有可能改多个模块，这些模块的联动，它的影响非常之大，会引发的问题是无法评估的，系统的复杂性就到了非常严重的地步。

一个系统，有些功能被用的比较多，有些功能被用的比较少，如果要部署多份，只能把整个系统备份部署多份，从资源需求角度考虑，轻组件和重组件的资源消耗是一样的，那么对资源的使用就不是很友好

微服务架构肯定是引入了一些复杂性，因为把单体系统本地调用的模块，切成了多个微服务，那么会出现一些



#### 如何选择合适的架构模式

如果是刚起步的业务，可以先不考虑微服务架构，这种分布式架构，可以先快速的去启一个单体的应用，先做个原型出来，这个时候这种易部署、易测试、易横向扩展的优势就体现出来了



我在这家公司最重要的收获是用适合的方法去解决问题，



复杂性

- 通信更复杂，微服务之间是通过网络调用通信的，网络又是不可靠的，网络断掉，超时，波动都会影响服务的稳定性

- 调试更复杂，做系统调试时出现问题，到底需要在哪个机器查问题，需要定位问题的错误路径，微服务会被拆分成成百上千上万个组件，那么系统的监控就会非常复杂，而单体组件时，只需要确认这个组件是否有问题。

好处

- 把一个庞大的系统切碎，遵循高内聚松耦合的原则，把相同的业务逻辑整合到一起去，松耦合的逻辑分开，彼此通过网络调用去通信，切成一个个组件，这样拆分后可以把不同功能的模块和子系统交给不同的团队去维护，不同的团队，他就是这一个领域的专家，他只需要关心属于自己的api、功能逻辑、整个系统的运维都可以由这一个统一的团队来全权负责，并且责任到人，那么积年累月这个团队就是这个领域的专家，这种模式使得复杂的系统变得更可维护了
- 

开发更复杂，



他的好处

易部署

易测试

易横向扩展